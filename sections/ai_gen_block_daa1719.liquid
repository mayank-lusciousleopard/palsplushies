{% style %}
.why-choose {
  padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
  background: {{ section.settings.section_bg }};
}

.why-choose__container {
  display: grid;
  grid-template-columns: {% if section.settings.image_position == 'left' %}1fr 1fr{% else %}1fr 1fr{% endif %};
  gap: 48px;
  align-items: center;
}

.why-choose__image {
  border-radius: {{ section.settings.image_radius }}px;
  overflow: hidden;
}

.why-choose__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.why-choose__content h2 {
  text-align: {{ section.settings.heading_alignment }};
  color: {{ section.settings.heading_color }};
  font-size: {{ section.settings.heading_size_desktop }}px;
  margin-bottom: 32px;
}

.why-choose__grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
}

.why-card {
  background: {{ section.settings.card_bg }};
  border: 1px solid {{ section.settings.card_border }};
  border-radius: 14px;
  padding: 24px;
}

.why-card h3 {
  color: {{ section.settings.card_title_color }};
  margin-bottom: 8px;
  font-size: 18px;
}

.why-card p {
  color: {{ section.settings.card_text_color }};
  font-size: 14px;
  line-height: 1.6;
  margin-bottom: 16px;
}

.why-card__badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: {{ section.settings.badge_bg }};
  color: {{ section.settings.badge_text }};
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 13px;
}

.why-card__badge svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

/* Tablet */
@media (max-width: 1024px) {
  .why-choose__container {
    grid-template-columns: 1fr;
  }

  .why-choose__grid {
    grid-template-columns: 1fr 1fr;
  }
}

/* Mobile */
@media (max-width: 768px) {
  .why-choose__content h2 {
    font-size: {{ section.settings.heading_size_mobile }}px;
    text-align: center;
  }

  .why-choose__grid {
    grid-template-columns: 1fr;
  }

  {% if section.settings.hide_image_mobile %}
  .why-choose__image {
    display: none;
  }
  {% endif %}
}
{% endstyle %}

<section class="why-choose">
  <div class="page-width">
    <div class="why-choose__container" style="grid-auto-flow:{% if section.settings.image_position == 'right' %}dense{% endif %};">

      {% if section.settings.image != blank %}
        <div class="why-choose__image" style="order:{% if section.settings.image_position == 'right' %}2{% else %}1{% endif %}">
          <img src="{{ section.settings.image | image_url: width: 900 }}" alt="">
        </div>
      {% endif %}

      <div class="why-choose__content" style="order:{% if section.settings.image_position == 'right' %}1{% else %}2{% endif %}">
        <h2>{{ section.settings.heading }}</h2>

        <div class="why-choose__grid">
          {% for block in section.blocks %}
            <div class="why-card" {{ block.shopify_attributes }}
              {% if block.settings.card_bg_override != blank %}
                style="background:{{ block.settings.card_bg_override }}"
              {% endif %}
            >
              <h3>{{ block.settings.title }}</h3>
              <p>{{ block.settings.text }}</p>

              {% if block.settings.badge_text != blank %}
                <div class="why-card__badge">
                  {% if block.settings.svg_icon != blank %}
                    {{ block.settings.svg_icon }}
                  {% endif %}
                  <span>{{ block.settings.badge_text }}</span>
                </div>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>

    </div>
  </div>
</section>

{% schema %}
{
  "name": "Why Choose Products",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Why Choose Our Products" },

    { "type": "select", "id": "heading_alignment", "label": "Heading Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },

    { "type": "range", "id": "heading_size_desktop", "label": "Heading Size (Desktop)", "min": 24, "max": 56, "step": 2, "default": 36 },
    { "type": "range", "id": "heading_size_mobile", "label": "Heading Size (Mobile)", "min": 20, "max": 40, "step": 2, "default": 28 },

    { "type": "image_picker", "id": "image", "label": "Image" },

    { "type": "select", "id": "image_position", "label": "Image Position",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },

    { "type": "checkbox", "id": "hide_image_mobile", "label": "Hide Image on Mobile", "default": false },
    { "type": "range", "id": "image_radius", "label": "Image Border Radius", "min": 0, "max": 40, "step": 2, "default": 12 },

    { "type": "color", "id": "section_bg", "label": "Section Background", "default": "#ffffff" },
    { "type": "color", "id": "heading_color", "label": "Heading Color", "default": "#111111" },
    { "type": "color", "id": "card_bg", "label": "Card Background", "default": "#ffffff" },
    { "type": "color", "id": "card_border", "label": "Card Border", "default": "#e5e5e5" },
    { "type": "color", "id": "card_title_color", "label": "Card Title Color", "default": "#111111" },
    { "type": "color", "id": "card_text_color", "label": "Card Text Color", "default": "#666666" },
    { "type": "color", "id": "badge_bg", "label": "Badge Background", "default": "#b2edf2" },
    { "type": "color", "id": "badge_text", "label": "Badge Text Color", "default": "#000000" },

    { "type": "range", "id": "padding_top", "label": "Padding Top", "min": 20, "max": 120, "step": 4, "default": 60 },
    { "type": "range", "id": "padding_bottom", "label": "Padding Bottom", "min": 20, "max": 120, "step": 4, "default": 60 }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Feature Card",
      "settings": [
        { "type": "text", "id": "title", "label": "Title", "default": "Premium Quality" },
        { "type": "textarea", "id": "text", "label": "Description", "default": "Made with the finest materials for ultimate comfort" },
        { "type": "textarea", "id": "svg_icon", "label": "SVG Icon (Paste SVG code)" },
        { "type": "text", "id": "badge_text", "label": "Badge Text", "default": "Top rated by customers" },
        { "type": "color", "id": "card_bg_override", "label": "Card Background Override" }
      ]
    }
  ],
  "max_blocks": 8,
  "presets": [
    {
      "name": "Why Choose Products",
      "blocks": [
        { "type": "item" },
        { "type": "item" },
        { "type": "item" },
        { "type": "item" }
      ]
    }
  ]
}
{% endschema %}
